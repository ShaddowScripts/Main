local library = loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/ShaddowScripts/Main/main/test3"))()

local VirtualInputManager = game:GetService('VirtualInputManager')

local main = library:CreateWindow("F4")

local tab = main:CreateTab("Main")

local misc = main:CreateTab("Misc")

local npcs = {}
local regions = {}

for i,n in pairs(game:GetService("Workspace").NPCS:GetChildren()) do
    if n:IsA("Model") then
        table.insert(npcs,n.Name)
    end 
end

for i,v in pairs(game:GetService("Workspace").Map.Regions:GetChildren()) do
table.insert(npcs,v.Name)
end


local farm
tab:CreateToggle("Autofarm Items","left",function(a)
farm = a
end)

local yakuza
misc:CreateToggle("Yakuza's Way","left",function(a)
yakuza = a
end)

local selectednpc
local dropdown = misc:CreateDropdown("NPCs",npcs,"left",function(a)
    selectednpc = a
end)

local selectedregion
local dropdown2 = misc:CreateDropdown("Regions",regions,"right",function(a)
    selectedregion = a
end)

misc:CreateButton("Teleport","left",function()
    if game:GetService("Workspace").NPCS[selectednpc]:FindFirstChildWhichIsA("Part") then
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game:GetService("Workspace").NPCS[selectednpc]:FindFirstChildWhichIsA("Part").CFrame
        elseif game:GetService("Workspace").NPCS[a]:FindFirstChildWhichIsA("MeshPart") then
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game:GetService("Workspace").NPCS[selectednpc]:FindFirstChildWhichIsA("MeshPart").CFrame
end
print(selectednpc)
end)

misc:CreateButton("Teleport","right",function()
    if game:GetService("Workspace").Map.Regions[selectedregion]:FindFirstChild("DetectPart") then
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game:GetService("Workspace").Map.Regions[selectedregion].DetectPart.CFrame
else
    print("This region has not been loaded.")
    end
end)

local partormeshitems = {"Meteor","xSoul","SandDebris"}
spawn(function()
while wait() do
pcall(function()
    if farm then
    for i,v in pairs(game:GetService("Workspace").ItemSpawns:GetDescendants()) do
    if v:IsA("Tool") then
         game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.Handle.CFrame
    elseif v.Name == "Chest" and v:FindFirstChild("RootPart") and v.RootPart:FindFirstChild("ProximityAttachment") and #v.AnimationController:GetChildren() == 0 then
       game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.PrimaryPart.CFrame
        fireproximityprompt(v.RootPart.ProximityAttachment.Interaction, 5)
        wait()
    elseif table.find(partormeshitems,v.Name) and v:FindFirstChild("ProximityAttachment") then
       game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.CFrame
        fireproximityprompt(v.ProximityAttachment.Interaction, 5)
        wait()
    elseif not table.find(partormeshitems,v.Name) and v:FindFirstChild("ProximityAttachment") then
       game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.CFrame
        fireproximityprompt(v.ProximityAttachment.Interaction, 5)
        wait()
    end
    game:GetService("Workspace").Camera.CameraSubject = game.Players.LocalPlayer.Character.Humanoid
    end
end
end)
end
end)

spawn(function()
    game:GetService('RunService').Stepped:connect(function()
        pcall(function()
            if farm then
            game.Players.LocalPlayer.Character.Humanoid:ChangeState(11) 
            end
        end)
    end)
end)

local VirtualInputManager = game:GetService('VirtualInputManager')

spawn(function()
    while wait(.4) do
        if yakuza then
            if game.Players.LocalPlayer.Character.Humanoid.Health > 80 then
            repeat wait(.2)
                game:GetService("Workspace").Living["Akira_DEV"].HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
            until game.Players.LocalPlayer.Character.Humanoid.Health <= 80
            game:GetService("Workspace").Living["Akira_DEV"].HumanoidRootPart.CFrame = game:GetService("Workspace").Living["Akira_DEV"].HumanoidRootPart * CFrame.new(0,200,50)
            VirtualInputManager:SendKeyEvent(true, "E", false, game)
            VirtualInputManager:SendKeyEvent(false, "E", false, game)
            end
end
        end
end)

tab:Show()

wait(5)
print(unpack(regions))
dropdown2:Refresh(regions)
